(()=>{"use strict";const e=window.wp.element,{registerBlockType:t}=wp.blocks,{RichText:l,InspectorControls:n,ColorPalette:a,MediaUpload:o,InnerBlocks:r,BlockControls:c,AlignmentToolbar:i}=wp.editor,{PanelBody:u,IconButton:g,RangeControl:m}=wp.components,s=["core/button"];t("digital/custom-cta",{title:"CTA",description:"Block to generate CTA",icon:"megaphone",category:"layout",attributes:{title:{type:"string",source:"html",selector:"h2"},body:{tpye:"string",source:"html",selector:"p"},alignment:{type:"string",default:"none"},titleColor:{type:"string",default:"#F18825"},backgroundImage:{type:"string",default:""},overlayColor:{type:"string",default:"#ffffff"},overlayOpacity:{type:"number",default:.1}},edit:({attributes:t,setAttributes:d})=>{const{title:y,body:p,alignment:b,titleColor:v,backgroundImage:E,overlayColor:k,overlayOpacity:C}=t;return[(0,e.createElement)(n,{style:{marginBottom:"40px"}},(0,e.createElement)(u,{title:"Font Color Settings"},(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Select a color:")),(0,e.createElement)(a,{value:v,onChange:function(e){d({titleColor:e})}})),(0,e.createElement)(u,{title:"Background Image Settings"},(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Select a background image:")),(0,e.createElement)(o,{onSelect:function(e){d({backgroundImage:e.sizes.full.url})},type:"image",value:E,render:({open:t})=>(0,e.createElement)(g,{onClick:t,icon:"upload",className:"editor-media-placeholder__button is-button is-default is-large"},"Background Image")}),(0,e.createElement)("div",{style:{marginTop:"20px",marginBottom:"40px"}},(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Overlay color:")),(0,e.createElement)(a,{value:k,onChange:function(e){d({overlayColor:e})}})),(0,e.createElement)(m,{label:"Overlay Opacity",value:C,onChange:function(e){d({overlayOpacity:e})},min:0,max:1,step:.05}))),(0,e.createElement)("div",{className:"cta-container",style:{backgroundImage:`url(${E})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},(0,e.createElement)("div",{className:"cta-overlay",style:{background:k,opacity:C}}),(0,e.createElement)(c,null,(0,e.createElement)(i,{value:b,onChange:function(e){d({alignment:null==e?"none":e})}})),(0,e.createElement)(l,{key:"editable",tagName:"h2",placeholder:"Your CTA Title",value:y,onChange:function(e){d({title:e})},style:{color:v,textAlign:b}}),(0,e.createElement)(l,{key:"editable",tagName:"p",placeholder:"Your CTA Description",value:p,onChange:function(e){d({body:e})},style:{textAlign:b}}),(0,e.createElement)(r,{allowedBlocks:s}))]},save:({attributes:t})=>{const{title:n,body:a,alignment:o,titleColor:c,backgroundImage:i,overlayColor:u,overlayOpacity:g}=t;return(0,e.createElement)("div",{className:"cta-container",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},(0,e.createElement)("div",{className:"cta-overlay",style:{background:u,opacity:g}}),(0,e.createElement)("h2",{style:{color:c,textAlign:o}},n),(0,e.createElement)(l.Content,{tagName:"p",value:a,style:{textAlign:o}}),(0,e.createElement)(r.Content,null))}})})();